<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>katan_ai.katan API documentation</title>
<meta name="description" content="A python module for holding the game state and performing game logic for games of The Settlers of Catan." />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>katan_ai.katan</code></h1>
</header>
<section id="section-intro">
<p>A python module for holding the game state and performing game logic for games of The Settlers of Catan.</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;A python module for holding the game state and performing game logic for games of The Settlers of Catan.&#34;&#34;&#34;

__version__ = &#34;1.0.0&#34;

from .development_card import DevelopmentCard
from .game import Game
from .player import Player
from .resource import Resource
from .roll_yield import RollYield

__all__ = [&#34;DevelopmentCard&#34;, &#34;Game&#34;, &#34;Player&#34;, &#34;Resource&#34;, &#34;RollYield&#34;, &#34;board&#34;]</code></pre>
</details>
</section>
<section>
<h2 class="section-title" id="header-submodules">Sub-modules</h2>
<dl>
<dt><code class="name"><a title="katan_ai.katan.board" href="board/index.html">katan_ai.katan.board</a></code></dt>
<dd>
<div class="desc"><p>Submodule that is used to hold the board state.</p></div>
</dd>
<dt><code class="name"><a title="katan_ai.katan.development_card" href="development_card.html">katan_ai.katan.development_card</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="katan_ai.katan.errors" href="errors.html">katan_ai.katan.errors</a></code></dt>
<dd>
<div class="desc"><p>Different types of errors that are raised when invalid input to provided.</p></div>
</dd>
<dt><code class="name"><a title="katan_ai.katan.game" href="game.html">katan_ai.katan.game</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="katan_ai.katan.player" href="player.html">katan_ai.katan.player</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="katan_ai.katan.resource" href="resource.html">katan_ai.katan.resource</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="katan_ai.katan.roll_yield" href="roll_yield.html">katan_ai.katan.roll_yield</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="katan_ai.katan.DevelopmentCard"><code class="flex name class">
<span>class <span class="ident">DevelopmentCard</span></span>
<span>(</span><span>value, names=None, *, module=None, qualname=None, type=None, start=1)</span>
</code></dt>
<dd>
<div class="desc"><p>A development card in a game of Catan.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class DevelopmentCard(Enum):
    &#34;&#34;&#34;A development card in a game of Catan.&#34;&#34;&#34;

    KNIGHT = 0
    &#34;&#34;&#34;The knight card&#34;&#34;&#34;
    YEAR_OF_PLENTY = 1
    &#34;&#34;&#34;The year of plenty card&#34;&#34;&#34;
    ROAD_BUILDING = 2
    &#34;&#34;&#34;The road building card&#34;&#34;&#34;
    MONOPOLY = 3
    &#34;&#34;&#34;The monopoly card&#34;&#34;&#34;
    VICTORY_POINT = 4
    &#34;&#34;&#34;Generic type to represent the victory point cards (i.e. library)&#34;&#34;&#34;

    @staticmethod
    def get_required_resources() -&gt; Dict[Resource, int]:
        &#34;&#34;&#34;Get the resources required to build a development card.

        Returns:
            How many of each resource is required to build a development card
        &#34;&#34;&#34;
        return {Resource.WOOL: 1, Resource.GRAIN: 1, Resource.ORE: 1}

    def __str__(self):
        return {
            DevelopmentCard.KNIGHT: &#34;Knight&#34;,
            DevelopmentCard.YEAR_OF_PLENTY: &#34;Year of Plenty&#34;,
            DevelopmentCard.ROAD_BUILDING: &#34;Road Building&#34;,
            DevelopmentCard.VICTORY_POINT: &#34;Victory Point&#34;,
            DevelopmentCard.MONOPOLY: &#34;Monopoly&#34;,
        }[self]

    def __repl__(self):
        return self.__str__()</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>enum.Enum</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="katan_ai.katan.DevelopmentCard.KNIGHT"><code class="name">var <span class="ident">KNIGHT</span></code></dt>
<dd>
<div class="desc"><p>The knight card</p></div>
</dd>
<dt id="katan_ai.katan.DevelopmentCard.MONOPOLY"><code class="name">var <span class="ident">MONOPOLY</span></code></dt>
<dd>
<div class="desc"><p>The monopoly card</p></div>
</dd>
<dt id="katan_ai.katan.DevelopmentCard.ROAD_BUILDING"><code class="name">var <span class="ident">ROAD_BUILDING</span></code></dt>
<dd>
<div class="desc"><p>The road building card</p></div>
</dd>
<dt id="katan_ai.katan.DevelopmentCard.VICTORY_POINT"><code class="name">var <span class="ident">VICTORY_POINT</span></code></dt>
<dd>
<div class="desc"><p>Generic type to represent the victory point cards (i.e. library)</p></div>
</dd>
<dt id="katan_ai.katan.DevelopmentCard.YEAR_OF_PLENTY"><code class="name">var <span class="ident">YEAR_OF_PLENTY</span></code></dt>
<dd>
<div class="desc"><p>The year of plenty card</p></div>
</dd>
</dl>
<h3>Static methods</h3>
<dl>
<dt id="katan_ai.katan.DevelopmentCard.get_required_resources"><code class="name flex">
<span>def <span class="ident">get_required_resources</span></span>(<span>) ‑> Dict[<a title="katan_ai.katan.resource.Resource" href="resource.html#katan_ai.katan.resource.Resource">Resource</a>, int]</span>
</code></dt>
<dd>
<div class="desc"><p>Get the resources required to build a development card.</p>
<h2 id="returns">Returns</h2>
<p>How many of each resource is required to build a development card</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@staticmethod
def get_required_resources() -&gt; Dict[Resource, int]:
    &#34;&#34;&#34;Get the resources required to build a development card.

    Returns:
        How many of each resource is required to build a development card
    &#34;&#34;&#34;
    return {Resource.WOOL: 1, Resource.GRAIN: 1, Resource.ORE: 1}</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="katan_ai.katan.Game"><code class="flex name class">
<span>class <span class="ident">Game</span></span>
<span>(</span><span>board: <a title="katan_ai.katan.board.board.Board" href="board/board.html#katan_ai.katan.board.board.Board">Board</a>, num_players: Optional[int] = 4)</span>
</code></dt>
<dd>
<div class="desc"><p>A game of Catan. Holds all the game state and game logic for interacting with the board, players and decks.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>board</code></strong></dt>
<dd>The board to use in the Catan game</dd>
<dt><strong><code>num_players</code></strong></dt>
<dd>The number of players to start the game with. Defaults to 4</dd>
</dl>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>board</code></strong> :&ensp;<code>Board</code></dt>
<dd>The Catan board being used in this game</dd>
<dt><strong><code>players</code></strong> :&ensp;<code>List[<a title="katan_ai.katan.Player" href="#katan_ai.katan.Player">Player</a>]</code></dt>
<dd>The players in the game, ordered by (recommended) turn order</dd>
<dt><strong><code>longest_road_owner</code></strong> :&ensp;<code><a title="katan_ai.katan.Player" href="#katan_ai.katan.Player">Player</a></code></dt>
<dd>The player who has the longest road token, or None if no players
have a road of at least 5 length</dd>
<dt><strong><code>largest_army_owner</code></strong> :&ensp;<code><a title="katan_ai.katan.Player" href="#katan_ai.katan.Player">Player</a></code></dt>
<dd>The player how has the largest army, or None if no players have played at least 3 knight cards</dd>
<dt><strong><code>development_card_deck</code></strong> :&ensp;<code>List[<a title="katan_ai.katan.DevelopmentCard" href="#katan_ai.katan.DevelopmentCard">DevelopmentCard</a>]</code></dt>
<dd>The deck of development cards</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Game:
    &#34;&#34;&#34;A game of Catan. Holds all the game state and game logic for interacting with the board, players and decks.

    Args:
            board: The board to use in the Catan game
            num_players: The number of players to start the game with. Defaults to 4

    Attributes:
            board (Board): The Catan board being used in this game
            players (List[Player]): The players in the game, ordered by (recommended) turn order
            longest_road_owner (Player): The player who has the longest road token, or None if no players
                have a road of at least 5 length
            largest_army_owner (Player): The player how has the largest army, or None if no players have played at least 3 knight cards
            development_card_deck (List[DevelopmentCard]): The deck of development cards
    &#34;&#34;&#34;

    def __init__(self, board: Board, num_players: Optional[int] = 4):
        self.board = board
        self.players = [Player() for i in range(num_players)]
        self.longest_road_owner = None
        self.largest_army_owner = None
        self.development_card_deck = (
            14 * [DevelopmentCard.KNIGHT]
            + 5 * [DevelopmentCard.VICTORY_POINT]
            + 2 * [DevelopmentCard.ROAD_BUILDING]
            + 2 * [DevelopmentCard.YEAR_OF_PLENTY]
            + 2 * [DevelopmentCard.MONOPOLY]
        )

        shuffle(self.development_card_deck)

    def build_settlement(
        self,
        player: Player,
        coords: Coords,
        cost_resources: Optional[bool] = True,
        ensure_connected: Optional[bool] = True,
    ):
        &#34;&#34;&#34;Build a settlement by the player given in the coords given, or raises an error if the input is invalid.

        Args:
            player: The player who is building the settlement
            coords: The coordinates to build the settlement at
            cost_resources: Whether to remove the resources required to build a settlement from the player&#39;s hands, and
                raise an error if they don&#39;t have them. Defaults to True
            ensure_connection: Whether to raise an error if the settlement would not be connected to a road owned by the same
                player. Defaults to True
        Raises:
            NotEnoughResourcesError: If check_resources is True and the player does not have enough resources
            NotConnectedError: If check_connection is True and the settlement would not be connected to any roads owned by the player
        &#34;&#34;&#34;
        # Check the player has the resources
        if cost_resources and not player.has_resources(
            BuildingType.SETTLEMENT.get_required_resources()
        ):
            raise NotEnoughResourcesError(
                &#34;Player does not have enough resources to build a settlement&#34;
            )
        # Build the settlement
        self.board.add_intersection_building(
            player, coords, BuildingType.SETTLEMENT, ensure_connected=ensure_connected
        )
        # Remove the resources
        if cost_resources:
            player.remove_resources(BuildingType.SETTLEMENT.get_required_resources())

    def build_road(
        self,
        player: Player,
        path_coords: Set[Coords],
        cost_resources: Optional[bool] = True,
        ensure_connected: Optional[bool] = True,
    ):
        &#34;&#34;&#34;Build a road.

        Args:
            player: The player who is building the road
            path_coords: The coordinates of the path to build a road on.
                Should be two valid connected intersection coordinates (i.e. {(1, 0), (1, -1)})
            cost_resources: Whether to remove resources from the player&#39;s hand to build the road,
                and raise an error if they don&#39;t have enough
            ensure_connected: Whether to ensure that the road is connected to another road, settlement or city
        Raises:
            NotEnoughResourcesError: If check_resources is True and the player doesn&#39;t have the cards to build the road
            NotConnectedError: If check_connection is True and the road is not connected to anything
            ValueError: If path_coords is not a set of two valid intersection coordinates
            CoordsBlockedError: If the position is already blocked by another road/other path building
        &#34;&#34;&#34;
        # Check the player has the resources
        if cost_resources and not player.has_resources(
            BuildingType.ROAD.get_required_resources()
        ):
            raise NotEnoughResourcesError(
                &#34;Player doesn not have the resources to build a road&#34;
            )
        self.board.add_path_building(
            player=player,
            path_coords=path_coords,
            building_type=BuildingType.ROAD,
            ensure_connected=ensure_connected,
        )
        # Remove the resources
        if cost_resources:
            player.remove_resources(BuildingType.ROAD.get_required_resources())

        # Check if the player gets longest road
        road_length = self.board.calculate_player_longest_road(player)
        if road_length &gt;= 5 and (
            self.longest_road_owner is None
            or road_length
            &gt; self.board.calculate_player_longest_road(self.longest_road_owner)
        ):
            self.longest_road_owner = player

    def upgrade_settlement_to_city(
        self, player: Player, coords: Coords, cost_resources: Optional[bool] = True
    ):
        &#34;&#34;&#34;Build a city from a settlement.

        Args:
            player: The player who is building the city
            coords: Where to build the city
            cost_resources: Whether to remove the resources from the player&#39;s hand
        Raises:
            NotEnoughResourcesError: If cost_resources is true and the player doesn&#39;t have enough resources
            ValueError: If coords is not a valid intersection
            RequiresSettlementError: If there is not a valid settlement at the intersection to upgrade
        &#34;&#34;&#34;
        if cost_resources and not player.has_resources(
            BuildingType.CITY.get_required_resources()
        ):
            raise NotEnoughResourcesError(
                &#34;Player does not have the resources to build a city&#34;
            )

        self.board.add_intersection_building(
            player=player, coords=coords, building_type=BuildingType.CITY
        )

        if cost_resources:
            player.remove_resources(BuildingType.CITY.get_required_resources())

    def add_yield_for_roll(self, roll: int):
        &#34;&#34;&#34;Add the resources to the player&#39;s hands for the dice roll given.

        Args:
            roll: The number that was rolled
        &#34;&#34;&#34;
        self.add_yield(self.board.get_yield_for_roll(roll))

    def add_yield(self, roll_yield: Dict[Player, RollYield]):
        &#34;&#34;&#34;Add the yield provided to the player&#39;s hands.

        Args:
            roll_yield: The yield provided by Board.get_yield_for_roll. A dictionary of RollYields mapped by
                the player who gets that yield
        &#34;&#34;&#34;
        for p, y in roll_yield.items():
            p.add_resources(y.total_yield)

    def move_robber(self, coords: Coords):
        &#34;&#34;&#34;Move the robber to the coords specified.

        Args:
            coords: The coordinates of the hex to move the robber to
        Raises:
            ValueError: If the coordinates are not a valid hex
        &#34;&#34;&#34;
        if not self.board.is_valid_hex_coords(coords):
            raise ValueError(&#34;coords is no a valid hex coordinate&#34;)

        self.board.robber = coords

    def build_development_card(self, player: Player) -&gt; DevelopmentCard:
        &#34;&#34;&#34;Build a development card and place it in the player&#39;s hand.

        Args:
            player: The player building the development card
        Raises:
            NotEnoughResourcesError: If the player cannot afford to build a development card
        Returns:
            The card that the player built and has been added to their hand
        &#34;&#34;&#34;
        if not player.has_resources(DevelopmentCard.get_required_resources()):
            raise NotEnoughResourcesError(
                &#34;Player does not have enough resources to build a development card&#34;
            )

        card = self.development_card_deck.pop(0)
        player.development_cards[card] += 1
        player.remove_resources(DevelopmentCard.get_required_resources())
        return card

    def play_development_card(self, player: Player, card: DevelopmentCard):
        &#34;&#34;&#34;Play a development card.

        Do not actually change the game state to play the card.
        Mainly just keep track of how many knight cards each player has played and may change who has the largest army

        Args:
            player: The player playing a development card
            card: The development card they are playing
        Raises:
            ValueError: If the player does not have the card
        &#34;&#34;&#34;
        player.play_development_card(card)
        if card is DevelopmentCard.KNIGHT:
            player.number_played_knights += 1
            if player.number_played_knights &gt;= 3 and (
                self.largest_army_owner is None
                or self.largest_army_owner.number_played_knights
                &lt; player.number_played_knights
            ):
                self.largest_army_owner = player

    def get_victory_points(self, player: Player):
        &#34;&#34;&#34;Get the number of victory points the player has.

        Args:
            player: The player to get the victory points for
        Returns:
            The number of victory points
        &#34;&#34;&#34;
        victory_points = sum(
            list(
                map(
                    lambda c: 2 if c.building.building_type is BuildingType.CITY else 1,
                    [
                        c
                        for c in self.board.intersections.values()
                        if c.building is not None and c.building.owner is player
                    ],
                )
            )
        )
        if player is self.longest_road_owner:
            victory_points += 2
        if player is self.largest_army_owner:
            victory_points += 2

        return victory_points + player.development_cards[DevelopmentCard.VICTORY_POINT]</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="katan_ai.katan.Game.add_yield"><code class="name flex">
<span>def <span class="ident">add_yield</span></span>(<span>self, roll_yield: Dict[<a title="katan_ai.katan.player.Player" href="player.html#katan_ai.katan.player.Player">Player</a>, <a title="katan_ai.katan.roll_yield.RollYield" href="roll_yield.html#katan_ai.katan.roll_yield.RollYield">RollYield</a>])</span>
</code></dt>
<dd>
<div class="desc"><p>Add the yield provided to the player's hands.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>roll_yield</code></strong></dt>
<dd>The yield provided by Board.get_yield_for_roll. A dictionary of RollYields mapped by
the player who gets that yield</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add_yield(self, roll_yield: Dict[Player, RollYield]):
    &#34;&#34;&#34;Add the yield provided to the player&#39;s hands.

    Args:
        roll_yield: The yield provided by Board.get_yield_for_roll. A dictionary of RollYields mapped by
            the player who gets that yield
    &#34;&#34;&#34;
    for p, y in roll_yield.items():
        p.add_resources(y.total_yield)</code></pre>
</details>
</dd>
<dt id="katan_ai.katan.Game.add_yield_for_roll"><code class="name flex">
<span>def <span class="ident">add_yield_for_roll</span></span>(<span>self, roll: int)</span>
</code></dt>
<dd>
<div class="desc"><p>Add the resources to the player's hands for the dice roll given.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>roll</code></strong></dt>
<dd>The number that was rolled</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add_yield_for_roll(self, roll: int):
    &#34;&#34;&#34;Add the resources to the player&#39;s hands for the dice roll given.

    Args:
        roll: The number that was rolled
    &#34;&#34;&#34;
    self.add_yield(self.board.get_yield_for_roll(roll))</code></pre>
</details>
</dd>
<dt id="katan_ai.katan.Game.build_development_card"><code class="name flex">
<span>def <span class="ident">build_development_card</span></span>(<span>self, player: <a title="katan_ai.katan.player.Player" href="player.html#katan_ai.katan.player.Player">Player</a>) ‑> <a title="katan_ai.katan.development_card.DevelopmentCard" href="development_card.html#katan_ai.katan.development_card.DevelopmentCard">DevelopmentCard</a></span>
</code></dt>
<dd>
<div class="desc"><p>Build a development card and place it in the player's hand.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>player</code></strong></dt>
<dd>The player building the development card</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>NotEnoughResourcesError</code></dt>
<dd>If the player cannot afford to build a development card</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>The card that the player built and has been added to their hand</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def build_development_card(self, player: Player) -&gt; DevelopmentCard:
    &#34;&#34;&#34;Build a development card and place it in the player&#39;s hand.

    Args:
        player: The player building the development card
    Raises:
        NotEnoughResourcesError: If the player cannot afford to build a development card
    Returns:
        The card that the player built and has been added to their hand
    &#34;&#34;&#34;
    if not player.has_resources(DevelopmentCard.get_required_resources()):
        raise NotEnoughResourcesError(
            &#34;Player does not have enough resources to build a development card&#34;
        )

    card = self.development_card_deck.pop(0)
    player.development_cards[card] += 1
    player.remove_resources(DevelopmentCard.get_required_resources())
    return card</code></pre>
</details>
</dd>
<dt id="katan_ai.katan.Game.build_road"><code class="name flex">
<span>def <span class="ident">build_road</span></span>(<span>self, player: <a title="katan_ai.katan.player.Player" href="player.html#katan_ai.katan.player.Player">Player</a>, path_coords: Set[<a title="katan_ai.katan.board.coords.Coords" href="board/coords.html#katan_ai.katan.board.coords.Coords">Coords</a>], cost_resources: Optional[bool] = True, ensure_connected: Optional[bool] = True)</span>
</code></dt>
<dd>
<div class="desc"><p>Build a road.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>player</code></strong></dt>
<dd>The player who is building the road</dd>
<dt><strong><code>path_coords</code></strong></dt>
<dd>The coordinates of the path to build a road on.
Should be two valid connected intersection coordinates (i.e. {(1, 0), (1, -1)})</dd>
<dt><strong><code>cost_resources</code></strong></dt>
<dd>Whether to remove resources from the player's hand to build the road,
and raise an error if they don't have enough</dd>
<dt><strong><code>ensure_connected</code></strong></dt>
<dd>Whether to ensure that the road is connected to another road, settlement or city</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>NotEnoughResourcesError</code></dt>
<dd>If check_resources is True and the player doesn't have the cards to build the road</dd>
<dt><code>NotConnectedError</code></dt>
<dd>If check_connection is True and the road is not connected to anything</dd>
<dt><code>ValueError</code></dt>
<dd>If path_coords is not a set of two valid intersection coordinates</dd>
<dt><code>CoordsBlockedError</code></dt>
<dd>If the position is already blocked by another road/other path building</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def build_road(
    self,
    player: Player,
    path_coords: Set[Coords],
    cost_resources: Optional[bool] = True,
    ensure_connected: Optional[bool] = True,
):
    &#34;&#34;&#34;Build a road.

    Args:
        player: The player who is building the road
        path_coords: The coordinates of the path to build a road on.
            Should be two valid connected intersection coordinates (i.e. {(1, 0), (1, -1)})
        cost_resources: Whether to remove resources from the player&#39;s hand to build the road,
            and raise an error if they don&#39;t have enough
        ensure_connected: Whether to ensure that the road is connected to another road, settlement or city
    Raises:
        NotEnoughResourcesError: If check_resources is True and the player doesn&#39;t have the cards to build the road
        NotConnectedError: If check_connection is True and the road is not connected to anything
        ValueError: If path_coords is not a set of two valid intersection coordinates
        CoordsBlockedError: If the position is already blocked by another road/other path building
    &#34;&#34;&#34;
    # Check the player has the resources
    if cost_resources and not player.has_resources(
        BuildingType.ROAD.get_required_resources()
    ):
        raise NotEnoughResourcesError(
            &#34;Player doesn not have the resources to build a road&#34;
        )
    self.board.add_path_building(
        player=player,
        path_coords=path_coords,
        building_type=BuildingType.ROAD,
        ensure_connected=ensure_connected,
    )
    # Remove the resources
    if cost_resources:
        player.remove_resources(BuildingType.ROAD.get_required_resources())

    # Check if the player gets longest road
    road_length = self.board.calculate_player_longest_road(player)
    if road_length &gt;= 5 and (
        self.longest_road_owner is None
        or road_length
        &gt; self.board.calculate_player_longest_road(self.longest_road_owner)
    ):
        self.longest_road_owner = player</code></pre>
</details>
</dd>
<dt id="katan_ai.katan.Game.build_settlement"><code class="name flex">
<span>def <span class="ident">build_settlement</span></span>(<span>self, player: <a title="katan_ai.katan.player.Player" href="player.html#katan_ai.katan.player.Player">Player</a>, coords: <a title="katan_ai.katan.board.coords.Coords" href="board/coords.html#katan_ai.katan.board.coords.Coords">Coords</a>, cost_resources: Optional[bool] = True, ensure_connected: Optional[bool] = True)</span>
</code></dt>
<dd>
<div class="desc"><p>Build a settlement by the player given in the coords given, or raises an error if the input is invalid.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>player</code></strong></dt>
<dd>The player who is building the settlement</dd>
<dt><strong><code>coords</code></strong></dt>
<dd>The coordinates to build the settlement at</dd>
<dt><strong><code>cost_resources</code></strong></dt>
<dd>Whether to remove the resources required to build a settlement from the player's hands, and
raise an error if they don't have them. Defaults to True</dd>
<dt><strong><code>ensure_connection</code></strong></dt>
<dd>Whether to raise an error if the settlement would not be connected to a road owned by the same
player. Defaults to True</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>NotEnoughResourcesError</code></dt>
<dd>If check_resources is True and the player does not have enough resources</dd>
<dt><code>NotConnectedError</code></dt>
<dd>If check_connection is True and the settlement would not be connected to any roads owned by the player</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def build_settlement(
    self,
    player: Player,
    coords: Coords,
    cost_resources: Optional[bool] = True,
    ensure_connected: Optional[bool] = True,
):
    &#34;&#34;&#34;Build a settlement by the player given in the coords given, or raises an error if the input is invalid.

    Args:
        player: The player who is building the settlement
        coords: The coordinates to build the settlement at
        cost_resources: Whether to remove the resources required to build a settlement from the player&#39;s hands, and
            raise an error if they don&#39;t have them. Defaults to True
        ensure_connection: Whether to raise an error if the settlement would not be connected to a road owned by the same
            player. Defaults to True
    Raises:
        NotEnoughResourcesError: If check_resources is True and the player does not have enough resources
        NotConnectedError: If check_connection is True and the settlement would not be connected to any roads owned by the player
    &#34;&#34;&#34;
    # Check the player has the resources
    if cost_resources and not player.has_resources(
        BuildingType.SETTLEMENT.get_required_resources()
    ):
        raise NotEnoughResourcesError(
            &#34;Player does not have enough resources to build a settlement&#34;
        )
    # Build the settlement
    self.board.add_intersection_building(
        player, coords, BuildingType.SETTLEMENT, ensure_connected=ensure_connected
    )
    # Remove the resources
    if cost_resources:
        player.remove_resources(BuildingType.SETTLEMENT.get_required_resources())</code></pre>
</details>
</dd>
<dt id="katan_ai.katan.Game.get_victory_points"><code class="name flex">
<span>def <span class="ident">get_victory_points</span></span>(<span>self, player: <a title="katan_ai.katan.player.Player" href="player.html#katan_ai.katan.player.Player">Player</a>)</span>
</code></dt>
<dd>
<div class="desc"><p>Get the number of victory points the player has.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>player</code></strong></dt>
<dd>The player to get the victory points for</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>The number of victory points</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_victory_points(self, player: Player):
    &#34;&#34;&#34;Get the number of victory points the player has.

    Args:
        player: The player to get the victory points for
    Returns:
        The number of victory points
    &#34;&#34;&#34;
    victory_points = sum(
        list(
            map(
                lambda c: 2 if c.building.building_type is BuildingType.CITY else 1,
                [
                    c
                    for c in self.board.intersections.values()
                    if c.building is not None and c.building.owner is player
                ],
            )
        )
    )
    if player is self.longest_road_owner:
        victory_points += 2
    if player is self.largest_army_owner:
        victory_points += 2

    return victory_points + player.development_cards[DevelopmentCard.VICTORY_POINT]</code></pre>
</details>
</dd>
<dt id="katan_ai.katan.Game.move_robber"><code class="name flex">
<span>def <span class="ident">move_robber</span></span>(<span>self, coords: <a title="katan_ai.katan.board.coords.Coords" href="board/coords.html#katan_ai.katan.board.coords.Coords">Coords</a>)</span>
</code></dt>
<dd>
<div class="desc"><p>Move the robber to the coords specified.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>coords</code></strong></dt>
<dd>The coordinates of the hex to move the robber to</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>ValueError</code></dt>
<dd>If the coordinates are not a valid hex</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def move_robber(self, coords: Coords):
    &#34;&#34;&#34;Move the robber to the coords specified.

    Args:
        coords: The coordinates of the hex to move the robber to
    Raises:
        ValueError: If the coordinates are not a valid hex
    &#34;&#34;&#34;
    if not self.board.is_valid_hex_coords(coords):
        raise ValueError(&#34;coords is no a valid hex coordinate&#34;)

    self.board.robber = coords</code></pre>
</details>
</dd>
<dt id="katan_ai.katan.Game.play_development_card"><code class="name flex">
<span>def <span class="ident">play_development_card</span></span>(<span>self, player: <a title="katan_ai.katan.player.Player" href="player.html#katan_ai.katan.player.Player">Player</a>, card: <a title="katan_ai.katan.development_card.DevelopmentCard" href="development_card.html#katan_ai.katan.development_card.DevelopmentCard">DevelopmentCard</a>)</span>
</code></dt>
<dd>
<div class="desc"><p>Play a development card.</p>
<p>Do not actually change the game state to play the card.
Mainly just keep track of how many knight cards each player has played and may change who has the largest army</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>player</code></strong></dt>
<dd>The player playing a development card</dd>
<dt><strong><code>card</code></strong></dt>
<dd>The development card they are playing</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>ValueError</code></dt>
<dd>If the player does not have the card</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def play_development_card(self, player: Player, card: DevelopmentCard):
    &#34;&#34;&#34;Play a development card.

    Do not actually change the game state to play the card.
    Mainly just keep track of how many knight cards each player has played and may change who has the largest army

    Args:
        player: The player playing a development card
        card: The development card they are playing
    Raises:
        ValueError: If the player does not have the card
    &#34;&#34;&#34;
    player.play_development_card(card)
    if card is DevelopmentCard.KNIGHT:
        player.number_played_knights += 1
        if player.number_played_knights &gt;= 3 and (
            self.largest_army_owner is None
            or self.largest_army_owner.number_played_knights
            &lt; player.number_played_knights
        ):
            self.largest_army_owner = player</code></pre>
</details>
</dd>
<dt id="katan_ai.katan.Game.upgrade_settlement_to_city"><code class="name flex">
<span>def <span class="ident">upgrade_settlement_to_city</span></span>(<span>self, player: <a title="katan_ai.katan.player.Player" href="player.html#katan_ai.katan.player.Player">Player</a>, coords: <a title="katan_ai.katan.board.coords.Coords" href="board/coords.html#katan_ai.katan.board.coords.Coords">Coords</a>, cost_resources: Optional[bool] = True)</span>
</code></dt>
<dd>
<div class="desc"><p>Build a city from a settlement.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>player</code></strong></dt>
<dd>The player who is building the city</dd>
<dt><strong><code>coords</code></strong></dt>
<dd>Where to build the city</dd>
<dt><strong><code>cost_resources</code></strong></dt>
<dd>Whether to remove the resources from the player's hand</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>NotEnoughResourcesError</code></dt>
<dd>If cost_resources is true and the player doesn't have enough resources</dd>
<dt><code>ValueError</code></dt>
<dd>If coords is not a valid intersection</dd>
<dt><code>RequiresSettlementError</code></dt>
<dd>If there is not a valid settlement at the intersection to upgrade</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def upgrade_settlement_to_city(
    self, player: Player, coords: Coords, cost_resources: Optional[bool] = True
):
    &#34;&#34;&#34;Build a city from a settlement.

    Args:
        player: The player who is building the city
        coords: Where to build the city
        cost_resources: Whether to remove the resources from the player&#39;s hand
    Raises:
        NotEnoughResourcesError: If cost_resources is true and the player doesn&#39;t have enough resources
        ValueError: If coords is not a valid intersection
        RequiresSettlementError: If there is not a valid settlement at the intersection to upgrade
    &#34;&#34;&#34;
    if cost_resources and not player.has_resources(
        BuildingType.CITY.get_required_resources()
    ):
        raise NotEnoughResourcesError(
            &#34;Player does not have the resources to build a city&#34;
        )

    self.board.add_intersection_building(
        player=player, coords=coords, building_type=BuildingType.CITY
    )

    if cost_resources:
        player.remove_resources(BuildingType.CITY.get_required_resources())</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="katan_ai.katan.Player"><code class="flex name class">
<span>class <span class="ident">Player</span></span>
</code></dt>
<dd>
<div class="desc"><p>A Player in a Catan game.</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>resources</code></strong> :&ensp;<code>Dict[<a title="katan_ai.katan.Resource" href="#katan_ai.katan.Resource">Resource</a>, int]</code></dt>
<dd>How many of each resource this player has</dd>
<dt><strong><code>development_cards</code></strong> :&ensp;<code>Dict[<a title="katan_ai.katan.DevelopmentCard" href="#katan_ai.katan.DevelopmentCard">DevelopmentCard</a>, int]</code></dt>
<dd>How many of each development card this player has</dd>
<dt><strong><code>connected_harbors</code></strong> :&ensp;<code>Set[Harbor]</code></dt>
<dd>The harbors this player is connected to. Used to determine the valid trades</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Player:
    &#34;&#34;&#34;A Player in a Catan game.

    Attributes:
            resources (Dict[Resource, int]): How many of each resource this player has
            development_cards (Dict[DevelopmentCard, int]): How many of each development card this player has
            connected_harbors (Set[Harbor]): The harbors this player is connected to. Used to determine the valid trades
    &#34;&#34;&#34;

    def __init__(self):
        self.resources: Dict[Resource, int] = {res: 0 for res in Resource}
        self.development_cards = {d: 0 for d in DevelopmentCard}
        self.connected_harbors = set()
        self.number_played_knights = 0

    def has_resources(self, resources: Dict[Resource, int]) -&gt; bool:
        &#34;&#34;&#34;Check if the player has the resources given.

        Args:
            resources: The resources to check that the player has

        Returns:
            bool: True if the player has the resources, false otherwise
        &#34;&#34;&#34;
        for res, num in resources.items():
            if self.resources[res] &lt; num:
                return False
        return True

    def remove_resources(self, resources: Dict[Resource, int]):
        &#34;&#34;&#34;Remove the given resources from the player&#39;s hand.

        Args:
            resources: The resources to remove

        Raises:
            NotEnoughResourcesError: If the player does not have the resources
        &#34;&#34;&#34;
        if not self.has_resources(resources):
            raise NotEnoughResourcesError(
                &#34;The player does not have the resources to remove&#34;
            )

        for res, num in resources.items():
            self.resources[res] -= num

    def add_resources(self, resources: Dict[Resource, int]):
        &#34;&#34;&#34;Add some resources to this player&#39;s hand.

        Args:
            resources: The resources to add
        &#34;&#34;&#34;
        for res, num in resources.items():
            self.resources[res] += num

    def get_possible_trades(self) -&gt; List[Dict[Resource, int]]:
        &#34;&#34;&#34;Get a list of the possible trades for this player.

        Returns:
            The possible trades for this player.
            Negative numbers mean the player would give away those resources, positive numbers mean the player would receive those resources
        &#34;&#34;&#34;
        trades = []
        # Use this map to avoid including a worse deal
        has_two_to_one = {res: False for res in Resource}
        # Add 2:1 harbor trades
        for harbor in self.connected_harbors:
            # Generic harbors willbe handled with the 4:1 trades
            if harbor.resource is None:
                continue
            has_two_to_one[harbor.resource] = True
            if self.has_resources({harbor.resource: 2}):
                for r in Resource:
                    if r != harbor.resource:
                        trades.append({harbor.resource: -2, r: 1})

        # Add 3:1 and 4:1 trades
        has_generic_harbor = (
            len([h for h in self.connected_harbors if h.resource is None]) != 0
        )
        for res in Resource:
            if has_two_to_one[res]:
                continue
            amount = 3 if has_generic_harbor else 4
            if self.has_resources({res: amount}):
                # Add the 4-1 trades
                for r in Resource:
                    if r != res:
                        trades.append({res: -amount, r: 1})
        # Filter out duplicates
        return [dict(t) for t in {tuple(d.items()) for d in trades}]

    def play_development_card(self, card: DevelopmentCard):
        &#34;&#34;&#34;Mark a development card as played.

        i.e. remove it from the player&#39;s hand

        Args:
            card: The card to play
        Raises:
            ValueError: If the player does not have the card
        &#34;&#34;&#34;
        if self.development_cards[card] &lt; 1:
            raise ValueError(
                &#34;Cannot play a development card that the player doesn&#39;t have!&#34;
            )
        self.development_cards[card] -= 1

    def get_random_resource(self) -&gt; Optional[Resource]:
        &#34;&#34;&#34;Get a random resource from this player.

        Weighs the different resources depending on how many the player has in their hand.
        This is equavalent to randomly picking a resource out of the player&#39;s hand, i.e. when stealing a card via a knight card or rolling a 7.

        Returns:
            The resource, or None if the player has no resources
        &#34;&#34;&#34;
        resources = sum([[res] * amount for res, amount in self.resources.items()], [])
        return (
            resources[random.randint(0, len(resources) - 1)]
            if len(resources) &gt; 0
            else None
        )</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="katan_ai.katan.Player.add_resources"><code class="name flex">
<span>def <span class="ident">add_resources</span></span>(<span>self, resources: Dict[<a title="katan_ai.katan.resource.Resource" href="resource.html#katan_ai.katan.resource.Resource">Resource</a>, int])</span>
</code></dt>
<dd>
<div class="desc"><p>Add some resources to this player's hand.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>resources</code></strong></dt>
<dd>The resources to add</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add_resources(self, resources: Dict[Resource, int]):
    &#34;&#34;&#34;Add some resources to this player&#39;s hand.

    Args:
        resources: The resources to add
    &#34;&#34;&#34;
    for res, num in resources.items():
        self.resources[res] += num</code></pre>
</details>
</dd>
<dt id="katan_ai.katan.Player.get_possible_trades"><code class="name flex">
<span>def <span class="ident">get_possible_trades</span></span>(<span>self) ‑> List[Dict[<a title="katan_ai.katan.resource.Resource" href="resource.html#katan_ai.katan.resource.Resource">Resource</a>, int]]</span>
</code></dt>
<dd>
<div class="desc"><p>Get a list of the possible trades for this player.</p>
<h2 id="returns">Returns</h2>
<p>The possible trades for this player.
Negative numbers mean the player would give away those resources, positive numbers mean the player would receive those resources</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_possible_trades(self) -&gt; List[Dict[Resource, int]]:
    &#34;&#34;&#34;Get a list of the possible trades for this player.

    Returns:
        The possible trades for this player.
        Negative numbers mean the player would give away those resources, positive numbers mean the player would receive those resources
    &#34;&#34;&#34;
    trades = []
    # Use this map to avoid including a worse deal
    has_two_to_one = {res: False for res in Resource}
    # Add 2:1 harbor trades
    for harbor in self.connected_harbors:
        # Generic harbors willbe handled with the 4:1 trades
        if harbor.resource is None:
            continue
        has_two_to_one[harbor.resource] = True
        if self.has_resources({harbor.resource: 2}):
            for r in Resource:
                if r != harbor.resource:
                    trades.append({harbor.resource: -2, r: 1})

    # Add 3:1 and 4:1 trades
    has_generic_harbor = (
        len([h for h in self.connected_harbors if h.resource is None]) != 0
    )
    for res in Resource:
        if has_two_to_one[res]:
            continue
        amount = 3 if has_generic_harbor else 4
        if self.has_resources({res: amount}):
            # Add the 4-1 trades
            for r in Resource:
                if r != res:
                    trades.append({res: -amount, r: 1})
    # Filter out duplicates
    return [dict(t) for t in {tuple(d.items()) for d in trades}]</code></pre>
</details>
</dd>
<dt id="katan_ai.katan.Player.get_random_resource"><code class="name flex">
<span>def <span class="ident">get_random_resource</span></span>(<span>self) ‑> Optional[<a title="katan_ai.katan.resource.Resource" href="resource.html#katan_ai.katan.resource.Resource">Resource</a>]</span>
</code></dt>
<dd>
<div class="desc"><p>Get a random resource from this player.</p>
<p>Weighs the different resources depending on how many the player has in their hand.
This is equavalent to randomly picking a resource out of the player's hand, i.e. when stealing a card via a knight card or rolling a 7.</p>
<h2 id="returns">Returns</h2>
<p>The resource, or None if the player has no resources</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_random_resource(self) -&gt; Optional[Resource]:
    &#34;&#34;&#34;Get a random resource from this player.

    Weighs the different resources depending on how many the player has in their hand.
    This is equavalent to randomly picking a resource out of the player&#39;s hand, i.e. when stealing a card via a knight card or rolling a 7.

    Returns:
        The resource, or None if the player has no resources
    &#34;&#34;&#34;
    resources = sum([[res] * amount for res, amount in self.resources.items()], [])
    return (
        resources[random.randint(0, len(resources) - 1)]
        if len(resources) &gt; 0
        else None
    )</code></pre>
</details>
</dd>
<dt id="katan_ai.katan.Player.has_resources"><code class="name flex">
<span>def <span class="ident">has_resources</span></span>(<span>self, resources: Dict[<a title="katan_ai.katan.resource.Resource" href="resource.html#katan_ai.katan.resource.Resource">Resource</a>, int]) ‑> bool</span>
</code></dt>
<dd>
<div class="desc"><p>Check if the player has the resources given.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>resources</code></strong></dt>
<dd>The resources to check that the player has</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>bool</code></dt>
<dd>True if the player has the resources, false otherwise</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def has_resources(self, resources: Dict[Resource, int]) -&gt; bool:
    &#34;&#34;&#34;Check if the player has the resources given.

    Args:
        resources: The resources to check that the player has

    Returns:
        bool: True if the player has the resources, false otherwise
    &#34;&#34;&#34;
    for res, num in resources.items():
        if self.resources[res] &lt; num:
            return False
    return True</code></pre>
</details>
</dd>
<dt id="katan_ai.katan.Player.play_development_card"><code class="name flex">
<span>def <span class="ident">play_development_card</span></span>(<span>self, card: <a title="katan_ai.katan.development_card.DevelopmentCard" href="development_card.html#katan_ai.katan.development_card.DevelopmentCard">DevelopmentCard</a>)</span>
</code></dt>
<dd>
<div class="desc"><p>Mark a development card as played.</p>
<p>i.e. remove it from the player's hand</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>card</code></strong></dt>
<dd>The card to play</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>ValueError</code></dt>
<dd>If the player does not have the card</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def play_development_card(self, card: DevelopmentCard):
    &#34;&#34;&#34;Mark a development card as played.

    i.e. remove it from the player&#39;s hand

    Args:
        card: The card to play
    Raises:
        ValueError: If the player does not have the card
    &#34;&#34;&#34;
    if self.development_cards[card] &lt; 1:
        raise ValueError(
            &#34;Cannot play a development card that the player doesn&#39;t have!&#34;
        )
    self.development_cards[card] -= 1</code></pre>
</details>
</dd>
<dt id="katan_ai.katan.Player.remove_resources"><code class="name flex">
<span>def <span class="ident">remove_resources</span></span>(<span>self, resources: Dict[<a title="katan_ai.katan.resource.Resource" href="resource.html#katan_ai.katan.resource.Resource">Resource</a>, int])</span>
</code></dt>
<dd>
<div class="desc"><p>Remove the given resources from the player's hand.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>resources</code></strong></dt>
<dd>The resources to remove</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>NotEnoughResourcesError</code></dt>
<dd>If the player does not have the resources</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def remove_resources(self, resources: Dict[Resource, int]):
    &#34;&#34;&#34;Remove the given resources from the player&#39;s hand.

    Args:
        resources: The resources to remove

    Raises:
        NotEnoughResourcesError: If the player does not have the resources
    &#34;&#34;&#34;
    if not self.has_resources(resources):
        raise NotEnoughResourcesError(
            &#34;The player does not have the resources to remove&#34;
        )

    for res, num in resources.items():
        self.resources[res] -= num</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="katan_ai.katan.Resource"><code class="flex name class">
<span>class <span class="ident">Resource</span></span>
<span>(</span><span>value, names=None, *, module=None, qualname=None, type=None, start=1)</span>
</code></dt>
<dd>
<div class="desc"><p>A type of resource in a game of Catan.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Resource(Enum):
    &#34;&#34;&#34;A type of resource in a game of Catan.&#34;&#34;&#34;

    LUMBER = 0
    &#34;&#34;&#34;The lumber resource&#34;&#34;&#34;
    BRICK = 1
    &#34;&#34;&#34;The brick resource&#34;&#34;&#34;
    WOOL = 2
    &#34;&#34;&#34;The wool resource&#34;&#34;&#34;
    GRAIN = 3
    &#34;&#34;&#34;The grain resource&#34;&#34;&#34;
    ORE = 4
    &#34;&#34;&#34;The ore resource&#34;&#34;&#34;

    def __repl__(self):
        return {
            Resource.LUMBER: &#34;Lumber&#34;,
            Resource.BRICK: &#34;Brick&#34;,
            Resource.WOOL: &#34;Wool&#34;,
            Resource.GRAIN: &#34;Grain&#34;,
            Resource.ORE: &#34;Ore&#34;,
        }[self]

    def __str__(self):
        return self.__repl__()</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>enum.Enum</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="katan_ai.katan.Resource.BRICK"><code class="name">var <span class="ident">BRICK</span></code></dt>
<dd>
<div class="desc"><p>The brick resource</p></div>
</dd>
<dt id="katan_ai.katan.Resource.GRAIN"><code class="name">var <span class="ident">GRAIN</span></code></dt>
<dd>
<div class="desc"><p>The grain resource</p></div>
</dd>
<dt id="katan_ai.katan.Resource.LUMBER"><code class="name">var <span class="ident">LUMBER</span></code></dt>
<dd>
<div class="desc"><p>The lumber resource</p></div>
</dd>
<dt id="katan_ai.katan.Resource.ORE"><code class="name">var <span class="ident">ORE</span></code></dt>
<dd>
<div class="desc"><p>The ore resource</p></div>
</dd>
<dt id="katan_ai.katan.Resource.WOOL"><code class="name">var <span class="ident">WOOL</span></code></dt>
<dd>
<div class="desc"><p>The wool resource</p></div>
</dd>
</dl>
</dd>
<dt id="katan_ai.katan.RollYield"><code class="flex name class">
<span>class <span class="ident">RollYield</span></span>
</code></dt>
<dd>
<div class="desc"><p>A utility class to represent what each player gets from a roll of the dice.</p>
<p>Contains information about where the resources came from as well.</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>total_yield</code></strong> :&ensp;<code>Dict[<a title="katan_ai.katan.Resource" href="#katan_ai.katan.Resource">Resource</a>, int]</code></dt>
<dd>The total yield from this dice roll</dd>
<dt><strong><code>all_yields</code></strong> :&ensp;<code>Set[RollYieldSource]</code></dt>
<dd>The sources where the resources came from</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class RollYield:
    &#34;&#34;&#34;A utility class to represent what each player gets from a roll of the dice.

    Contains information about where the resources came from as well.

    Attributes:
            total_yield (Dict[Resource, int]): The total yield from this dice roll
            all_yields (Set[RollYieldSource]): The sources where the resources came from
    &#34;&#34;&#34;

    def __init__(self):
        self.total_yield = {r: 0 for r in Resource}
        self.all_yields = set()

    def add_yield(
        self, resource: Resource, amount: int, source: RollYieldSource
    ) -&gt; None:
        &#34;&#34;&#34;Add a yield to the RollYield.

        Also updates total_yield. Use this method instead of directly changing all_yields.

        Args:
            resource: The resource the player has received
            amount: The amount of the resource the player has received
        &#34;&#34;&#34;
        self.total_yield[resource] += amount
        self.all_yields.add(RollYieldSource)</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="katan_ai.katan.RollYield.add_yield"><code class="name flex">
<span>def <span class="ident">add_yield</span></span>(<span>self, resource: <a title="katan_ai.katan.resource.Resource" href="resource.html#katan_ai.katan.resource.Resource">Resource</a>, amount: int, source: <a title="katan_ai.katan.roll_yield.RollYieldSource" href="roll_yield.html#katan_ai.katan.roll_yield.RollYieldSource">RollYieldSource</a>) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Add a yield to the RollYield.</p>
<p>Also updates total_yield. Use this method instead of directly changing all_yields.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>resource</code></strong></dt>
<dd>The resource the player has received</dd>
<dt><strong><code>amount</code></strong></dt>
<dd>The amount of the resource the player has received</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add_yield(
    self, resource: Resource, amount: int, source: RollYieldSource
) -&gt; None:
    &#34;&#34;&#34;Add a yield to the RollYield.

    Also updates total_yield. Use this method instead of directly changing all_yields.

    Args:
        resource: The resource the player has received
        amount: The amount of the resource the player has received
    &#34;&#34;&#34;
    self.total_yield[resource] += amount
    self.all_yields.add(RollYieldSource)</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="katan_ai" href="../index.html">katan_ai</a></code></li>
</ul>
</li>
<li><h3><a href="#header-submodules">Sub-modules</a></h3>
<ul>
<li><code><a title="katan_ai.katan.board" href="board/index.html">katan_ai.katan.board</a></code></li>
<li><code><a title="katan_ai.katan.development_card" href="development_card.html">katan_ai.katan.development_card</a></code></li>
<li><code><a title="katan_ai.katan.errors" href="errors.html">katan_ai.katan.errors</a></code></li>
<li><code><a title="katan_ai.katan.game" href="game.html">katan_ai.katan.game</a></code></li>
<li><code><a title="katan_ai.katan.player" href="player.html">katan_ai.katan.player</a></code></li>
<li><code><a title="katan_ai.katan.resource" href="resource.html">katan_ai.katan.resource</a></code></li>
<li><code><a title="katan_ai.katan.roll_yield" href="roll_yield.html">katan_ai.katan.roll_yield</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="katan_ai.katan.DevelopmentCard" href="#katan_ai.katan.DevelopmentCard">DevelopmentCard</a></code></h4>
<ul class="">
<li><code><a title="katan_ai.katan.DevelopmentCard.KNIGHT" href="#katan_ai.katan.DevelopmentCard.KNIGHT">KNIGHT</a></code></li>
<li><code><a title="katan_ai.katan.DevelopmentCard.MONOPOLY" href="#katan_ai.katan.DevelopmentCard.MONOPOLY">MONOPOLY</a></code></li>
<li><code><a title="katan_ai.katan.DevelopmentCard.ROAD_BUILDING" href="#katan_ai.katan.DevelopmentCard.ROAD_BUILDING">ROAD_BUILDING</a></code></li>
<li><code><a title="katan_ai.katan.DevelopmentCard.VICTORY_POINT" href="#katan_ai.katan.DevelopmentCard.VICTORY_POINT">VICTORY_POINT</a></code></li>
<li><code><a title="katan_ai.katan.DevelopmentCard.YEAR_OF_PLENTY" href="#katan_ai.katan.DevelopmentCard.YEAR_OF_PLENTY">YEAR_OF_PLENTY</a></code></li>
<li><code><a title="katan_ai.katan.DevelopmentCard.get_required_resources" href="#katan_ai.katan.DevelopmentCard.get_required_resources">get_required_resources</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="katan_ai.katan.Game" href="#katan_ai.katan.Game">Game</a></code></h4>
<ul class="">
<li><code><a title="katan_ai.katan.Game.add_yield" href="#katan_ai.katan.Game.add_yield">add_yield</a></code></li>
<li><code><a title="katan_ai.katan.Game.add_yield_for_roll" href="#katan_ai.katan.Game.add_yield_for_roll">add_yield_for_roll</a></code></li>
<li><code><a title="katan_ai.katan.Game.build_development_card" href="#katan_ai.katan.Game.build_development_card">build_development_card</a></code></li>
<li><code><a title="katan_ai.katan.Game.build_road" href="#katan_ai.katan.Game.build_road">build_road</a></code></li>
<li><code><a title="katan_ai.katan.Game.build_settlement" href="#katan_ai.katan.Game.build_settlement">build_settlement</a></code></li>
<li><code><a title="katan_ai.katan.Game.get_victory_points" href="#katan_ai.katan.Game.get_victory_points">get_victory_points</a></code></li>
<li><code><a title="katan_ai.katan.Game.move_robber" href="#katan_ai.katan.Game.move_robber">move_robber</a></code></li>
<li><code><a title="katan_ai.katan.Game.play_development_card" href="#katan_ai.katan.Game.play_development_card">play_development_card</a></code></li>
<li><code><a title="katan_ai.katan.Game.upgrade_settlement_to_city" href="#katan_ai.katan.Game.upgrade_settlement_to_city">upgrade_settlement_to_city</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="katan_ai.katan.Player" href="#katan_ai.katan.Player">Player</a></code></h4>
<ul class="">
<li><code><a title="katan_ai.katan.Player.add_resources" href="#katan_ai.katan.Player.add_resources">add_resources</a></code></li>
<li><code><a title="katan_ai.katan.Player.get_possible_trades" href="#katan_ai.katan.Player.get_possible_trades">get_possible_trades</a></code></li>
<li><code><a title="katan_ai.katan.Player.get_random_resource" href="#katan_ai.katan.Player.get_random_resource">get_random_resource</a></code></li>
<li><code><a title="katan_ai.katan.Player.has_resources" href="#katan_ai.katan.Player.has_resources">has_resources</a></code></li>
<li><code><a title="katan_ai.katan.Player.play_development_card" href="#katan_ai.katan.Player.play_development_card">play_development_card</a></code></li>
<li><code><a title="katan_ai.katan.Player.remove_resources" href="#katan_ai.katan.Player.remove_resources">remove_resources</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="katan_ai.katan.Resource" href="#katan_ai.katan.Resource">Resource</a></code></h4>
<ul class="">
<li><code><a title="katan_ai.katan.Resource.BRICK" href="#katan_ai.katan.Resource.BRICK">BRICK</a></code></li>
<li><code><a title="katan_ai.katan.Resource.GRAIN" href="#katan_ai.katan.Resource.GRAIN">GRAIN</a></code></li>
<li><code><a title="katan_ai.katan.Resource.LUMBER" href="#katan_ai.katan.Resource.LUMBER">LUMBER</a></code></li>
<li><code><a title="katan_ai.katan.Resource.ORE" href="#katan_ai.katan.Resource.ORE">ORE</a></code></li>
<li><code><a title="katan_ai.katan.Resource.WOOL" href="#katan_ai.katan.Resource.WOOL">WOOL</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="katan_ai.katan.RollYield" href="#katan_ai.katan.RollYield">RollYield</a></code></h4>
<ul class="">
<li><code><a title="katan_ai.katan.RollYield.add_yield" href="#katan_ai.katan.RollYield.add_yield">add_yield</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>
